# Docker Interview Questions & Answers (Summary Version)

> **Quick reference guide with concise explanations for Docker interview questions 1-100**

---

## üê≥ Basic Docker Interview Questions (Questions 1-20)

**Q1: What is Docker?**
A platform for developing, shipping, and running applications in containers. It allows you to separate your applications from your infrastructure to deliver software quickly.

**Q2: What are the benefits of using Docker?**
Consistency across environments, rapid deployment, isolation (containers don't conflict), portability (runs anywhere), and efficiency (less resource-heavy than VMs).

**Q3: What is the difference between Docker and a virtual machine?**
Docker shares the host OS kernel and isolates processes, making it lightweight. VMs include a full Guest OS, making them heavier and slower to start.

**Q4: What is a Docker container?**
A lightweight, standalone, executable package of software that includes everything needed to run an application: code, runtime, system tools, system libraries, and settings.

**Q5: What is a Docker image?**
A read-only template with instructions for creating a Docker container. It is built from a Dockerfile.

**Q6: What is Docker Hub?**
A cloud-based registry service for sharing and accessing container images. It is the default registry for Docker.

**Q7: What is a Dockerfile?**
A text document that contains all the commands a user could call on the command line to assemble an image.

**Q8: How do you build a Docker image?**
Use the command `docker build -t image_name:tag .` which reads the Dockerfile in the current directory.

**Q9: How do you run a Docker container?**
Use `docker run image_name`. Common flags include `-d` (detached), `-p` (ports), and `-v` (volumes).

**Q10: How do you stop a running container?**
`docker stop <container_id>`. It sends a SIGTERM signal allowing graceful shutdown. `docker kill` stops it immediately.

**Q11: What is the difference between `CMD` and `ENTRYPOINT`?**
`CMD` sets default commands/parameters that can be overridden from the command line. `ENTRYPOINT` configures a container that will run as an executable; command line args are appended to it.

**Q12: How do you list all Docker containers?**
`docker ps` lists running containers. `docker ps -a` lists all containers (including stopped ones).

**Q13: How do you list all Docker images?**
`docker images` or `docker image ls`.

**Q14: How do you delete a Docker container?**
`docker rm <container_id>`. The container must be stopped first unless using `-f`.

**Q15: How do you delete a Docker image?**
`docker rmi <image_id>` or `docker image rm <image_id>`.

**Q16: What is the purpose of `.dockerignore` file?**
Excludes files and directories from the build context (like `.git`, `node_modules`), reducing build size and improving security.

**Q17: How can you expose a port from a Docker container?**
Use the `-p` flag in `docker run` (e.g., `-p 8080:80` maps host 8080 to container 80) or `EXPOSE` instruction in Dockerfile (documentation only).

**Q18: What is the default Docker network?**
The `bridge` network. Containers connect to it by default if no network is specified.

**Q19: What is a volume in Docker?**
A mechanism for persisting data generated by and used by Docker containers. Data is stored on the host filesystem (`/var/lib/docker/volumes`) and survives container restart/removal.

**Q20: How do you persist data in Docker?**
Use Volumes (`-v volume_name:/path`), Bind Mounts (`-v /host/path:/container/path`), or tmpfs mounts.

---

## üõ†Ô∏è Intermediate Docker Interview Questions (Questions 21-40)

**Q21: What is the difference between a bind mount and a volume?**
Volumes are managed by Docker (safer, portable). Bind mounts rely on the host's specific directory structure and file path.

**Q22: How do you copy files into a Docker container?**
`docker cp /host/path <container_id>:/container/path`. It works both ways (host to container, container to host).

**Q23: What is the purpose of multi-stage builds?**
To optimize image size by using multiple `FROM` instructions. You compile/build in one stage and copy only the necessary artifacts (binaries) to the final slim stage.

**Q24: How do you pass environment variables to a container?**
Use `-e "VAR=value"` in `docker run` or define `ENV` in Dockerfile.

**Q25: What is the use of `--rm` flag?**
Automatically removes the container when it exits. Useful for temporary or one-off tasks.

**Q26: What are Docker namespaces?**
Linux kernel feature that provides isolation. Examples: PID (processes), NET (networking), MNT (mountpoints), UTS (hostname).

**Q27: What are Docker cgroups?**
Control Groups. They limit, account for, and isolate the resource usage (CPU, memory, disk I/O, network) of a collection of processes.

**Q28: What is Docker Compose?**
A tool for defining and running multi-container Docker applications using a YAML file (`docker-compose.yml`).

**Q29: How do you define services in Docker Compose?**
Under the `services:` key in the YAML file. Each service names a container and specifies image, ports, volumes, etc.

**Q30: How do you scale services in Docker Compose?**
`docker-compose up --scale service_name=3` starts 3 instances of that service.

**Q31: What is the `depends_on` in Docker Compose?**
Controls startup order. Service A starts only after Service B is started (though it doesn't wait for B to be "ready").

**Q32: What is the difference between `COPY` and `ADD` in Dockerfile?**
`COPY` copies local files. `ADD` does that plus it can extract tar files and download from remote URLs. `COPY` is preferred.

**Q33: How do you connect containers using Docker networks?**
Create a network (`docker network create mynet`) and run containers attaching them to it (`--network mynet`). They can resolve each other by container name.

**Q34: What are the different types of Docker networks?**
Bridge (default), Host (removes network isolation), None (no network), Overlay (Swarm/multi-host), Macvlan (assigns MAC address).

**Q35: What is Docker Swarm?**
Docker's native container orchestration tool for clustering multiple Docker hosts into a single virtual host.

**Q36: How do you create a Docker Swarm cluster?**
Run `docker swarm init` on the manager node and `docker swarm join --token <token>` on worker nodes.

**Q37: What is the difference between a service and a container in Docker Swarm?**
A Service is the definition of a desired state (e.g., "3 replicas of web-app"). A Container is the actual running instance of that task.

**Q38: What is a manager node in Docker Swarm?**
Handles cluster management tasks: maintaining cluster state, scheduling services, and serving Swarm API endpoints.

**Q39: What is a worker node in Docker Swarm?**
Executes the tasks (containers) assigned by the manager node.

**Q40: How does Docker Swarm handle load balancing?**
Uses ingress load balancing (Mesh Routing) to distribute traffic to published ports across all healthy containers in the service.

---

## üîê Docker Security & Best Practices (Questions 41-50)

**Q41: How do you secure a Docker container?**
Use minimal base images, run as non-root, limit resources (cgroups), scan for vulnerabilities, use read-only filesystems, and keep Docker updated.

**Q42: What is Docker Content Trust?**
Uses digital signatures to verify the integrity and publisher of images. Ensures you run exactly what was built.

**Q43: What are Docker secrets?**
Secure way to store sensitive data (passwords, keys) in Swarm/Compose. They are encrypted at rest and mounted only to services that need them.

**Q44: How do you scan Docker images for vulnerabilities?**
Use `docker scan image_name` (powered by Snyk) or other tools like Trivy, Clair, or Anchore.

**Q45: What are best practices for writing Dockerfiles?**
Use `.dockerignore`, minimize layers, sort multi-line arguments, use specific tags (not `latest`), and favor multi-stage builds.

**Q46: Why should you use non-root users in containers?**
To prevent privilege escalation attacks. If a container breaks out, a root user inside might have root access on the host.

**Q47: What are the risks of running privileged containers?**
`--privileged` gives full access to the host machine's devices and kernel capabilities, bypassing most isolation protections.

**Q48: What is image hardening?**
The process of securing an image by removing unnecessary packages, disabling unused services, and configuring strict permissions.

**Q49: How do you limit container resources?**
Use `--memory`, `--cpus`, or `--pids-limit` flags in `docker run` to prevent a container from exhausting host resources.

**Q50: How can you prevent container breakout?**
Use User Namespaces, AppArmor/SELinux profiles, drop unused capabilities (`--cap-drop`), and keep the kernel patched.

---

## üß™ Docker Testing, CI/CD & Logging (Questions 51-60)

**Q51: How do you test a Docker image?**
Run it, execute integration tests against the running container, usually checking exit codes or HTTP responses. Structure tests (checking file existence) are also used.

**Q52: How is Docker used in CI/CD pipelines?**
CI runners often use Docker to isolate build environments. Artifacts are built inside containers, or the final artifact IS a Docker image pushed to a registry.

**Q53: How can you log container activity?**
Docker captures stdout/stderr. Configure logging drivers (json-file, syslog, splunk, awslogs) to route logs to central systems.

**Q54: How do you access logs from a Docker container?**
`docker logs <container_id>`. Add `-f` to follow logs in real-time.

**Q55: What is the difference between `docker logs` and `docker attach`?**
`logs` shows historical and current output. `attach` connects your terminal's standard input/output/error to the running container directly.

**Q56: How do you debug a running container?**
`docker exec -it <container_id> /bin/bash` (or `/bin/sh`) to open an interactive shell inside.

**Q57: What tools integrate with Docker for CI/CD?**
Jenkins, GitLab CI, GitHub Actions, CircleCI, Travis CI‚Äîalmost all modern CI tools support Docker natively.

**Q58: What are some common Docker CI tools?**
Drone CI (container-native), Kaniko (build images inside k8s), Watchtower (auto-update containers).

**Q59: What is the role of Docker in microservices architecture?**
It encapsulates each microservice with its dependencies, ensuring consistent runtime environments and simplifying deployment/scaling.

**Q60: How do you manage configuration across environments in Docker?**
Use Environment Variables (`-e`), Config Maps (in k8s/swarm), or mount configuration files as volumes tailored to each environment.

---

## üì¶ Docker Image Management & Registries (Questions 61-70)

**Q61: What is the difference between a private and public Docker registry?**
Public (Docker Hub outside login) is accessible by anyone. Private requires authentication and is used for proprietary code.

**Q62: How do you push an image to Docker Hub?**
`docker login`, then `docker tag image_name username/repo:tag`, then `docker push username/repo:tag`.

**Q63: How do you pull an image from a private registry?**
`docker login <registry_url>` then `docker pull <registry_url>/image:tag`.

**Q64: What is the format of Docker image tags?**
`registry_url/repository_name:version_tag`. If registry is omitted, defaults to Docker Hub. If tag omitted, defaults to `latest`.

**Q65: What is a dangling image?**
An image layer that is no longer tagged or referenced by any container. Usually shows as `<none>:<none>`.

**Q66: How do you clean up unused Docker images?**
`docker image prune`. Adding `-a` removes all unused images, not just dangling ones.

**Q67: What is an image layer?**
A read-only filesystem change. Docker images are composed of stacked layers corresponding to instructions in the Dockerfile.

**Q68: How does Docker layer caching work?**
If a Dockerfile instruction and its context haven't changed, Docker reuses the existing layer from cache instead of rebuilding it, speeding up builds.

**Q69: What is the size of a typical Docker image?**
Varies wildly. Alpine images are ~5MB. Full OS images (Ubuntu) ~80MB. Application images can be hundreds of MBs depending on added dependencies.

**Q70: How do you optimize image size?**
Use small base images (Alpine), combine RUN commands (reduce layers), remove cache/apt-lists after installing, use `.dockerignore`.

---

## ‚òÅÔ∏è Docker in Production & Orchestration (Questions 71-80)

**Q71: How do you deploy Docker containers in production?**
Typically via orchestration platforms like Kubernetes, Docker Swarm, or cloud services like AWS ECS/Fargate, Google Cloud Run.

**Q72: What is the difference between Docker Swarm and Kubernetes?**
Swarm: Simple, easy layout, integrated into Docker. Kubernetes: Complex, powerful, vastly larger ecosystem, industry standard for enterprise.

**Q73: How do you monitor containers in production?**
Collect metrics (CPU, RAM, Net) and logs. Use tools that hook into the Docker socket or run sidecar agents.

**Q74: What tools are used for Docker monitoring?**
Prometheus + Grafana, cAdvisor, Datadog, Sysdig, ELK Stack.

**Q75: What is container orchestration?**
Automating the management, scaling, networking, and availability of container-based applications.

**Q76: How do you perform zero-downtime deployments with Docker?**
Use Rolling Updates. Orchestrator replaces old containers with new ones one-by-one, verifying health before proceeding.

**Q77: How do you handle configuration management in Docker?**
Decouple config from code. Inject via Env Vars or Volume-mounted config files at runtime.

**Q78: What is container health check?**
A command defined in Dockerfile (`HEALTHCHECK`) or compose that tests if the app is actually working, not just if the process is running.

**Q79: How do you implement a health check in Dockerfile?**
`HEALTHCHECK --interval=30s CMD curl -f http://localhost/ || exit 1`.

**Q80: How does Docker handle service discovery?**
In Swarm/Compose user-defined networks, containers can reach others by service name (embedded DNS server resolves name to container IP).

---

## ‚öôÔ∏è Advanced Docker Interview Questions (Questions 81-90)

**Q81: What is the lifecycle of a Docker container?**
Created -> Running -> Paused -> Stopped -> Deleted.

**Q82: What is the difference between `exec` and `attach`?**
`exec` starts a *new* process inside the container. `attach` connects to the *main* process (PID 1) standard streams.

**Q83: How do you handle stateful applications in Docker?**
Use Volumes to decouple data from the container lifecycle. Ensure the orchestrator pins the container to the storage location or uses shared network storage.

**Q84: Can you run a database inside Docker? Pros/cons?**
Yes. Pros: Easy setup, inconsistent env. Cons: Data persistence complexity, performance overhead, risk of data loss if not managed correctly.

**Q85: What is Init system in containers?**
Containers usually lack a full init system (like systemd). You might use `tini` as a tiny init process to handle signal forwarding and zombie reaping.

**Q86: How do you limit CPU/memory for containers?**
Flags: `--memory="512m"`, `--cpus="1.5"`. Docker uses Linux cgroups to enforce these limits.

**Q87: What are container registries alternatives to Docker Hub?**
Amazon ECR, Google GCR/Artifact Registry, Azure ACR, Harbor, Quay, GitLab Container Registry.

**Q88: How do you rollback to a previous image version?**
Stop current container, start new container using the specific tag/digest of the previous image version. Orchestrators do this automatically (`docker service rollback`).

**Q89: What is overlay network?**
A network driver that creates a distributed network among multiple Docker daemon hosts. Essential for Swarm/Kubernetes communication.

**Q90: What is the difference between `alpine`, `debian`, `ubuntu` images?**
`alpine`: Extremely minimal (musl libc), very small. `debian`/`ubuntu`: Standard glibc, larger, more familiar tools included.

---

## üß† Situational & Scenario-Based Questions (Questions 91-100)

**Q91: How would you troubleshoot a container that keeps restarting?**
Check logs (`docker logs`). Look for "CrashLoopBackOff". Inspect exit code (`docker inspect`). Check for missing env vars or config files.

**Q92: How would you update a running container to a new image?**
You don't "update" it. You pull the new image, stop/remove the old container, and start a new container from the new image (Immutable Infrastructure).

**Q93: How would you handle a failed container in a CI/CD pipeline?**
Capture logs/artifacts. Fail the pipeline stage. Use ephemeral environments to debug if possible.

**Q94: How would you ensure high availability of your Docker services?**
Run multiple replicas across different nodes/zones. Use an orchestrator (K8s/Swarm) and Load Balancers.

**Q95: How would you manage secrets in a distributed Docker environment?**
Do not use Env Vars. Use Swarm Secrets, K8s Secrets, or a Vault server. Mount them as files in memory (`/run/secrets`).

**Q96: How would you troubleshoot network issues between containers?**
Check if they are on the same network. Use `docker network inspect`. Try `ping` or `curl` (if installed) from inside one container to another.

**Q97: What steps would you take to clean up Docker disk space?**
`docker system prune`. Check `/var/lib/docker/overlay2` size. Look for large log files (`/var/lib/docker/containers/*/*.log`).

**Q98: How would you migrate a legacy app to Docker?**
Identify dependencies. Create base Dockerfile. Copy app code. converting config to Env vars. Expose ports. Test iteratively.

**Q99: What challenges have you faced while working with Docker?**
(Example) Networking complexity in overlays, managing persistent storage permissions, long build times (solved with caching), large image sizes.

**Q100: How would you explain Docker to a non-technical stakeholder?**
"It's like a shipping container for software. It packs the code and everything it needs into a standard box so it works exactly the same on my laptop, the testing server, and the production cloud."

---

## üß† Conceptual & Deep-Dive Interview Questions (Questions 101-110)

**Q101: What is the OCI (Open Container Initiative)?**
An open governance structure for creating open industry standards around container formats and runtimes. Docker donated its container format and runtime to OCI.

**Q102: How is Docker related to containerd and runc?**
Docker Engine uses `containerd` (daemon that manages container lifecycle) which in turn uses `runc` (CLI tool for spawning and running containers according to OCI spec).

**Q103: What is the architecture of Docker Engine?**
Client-Server architecture. Docker Client (CLI) talks to Docker Daemon (`dockerd`) via REST API. Daemon manages objects (images, containers) using `containerd`.

**Q104: What is the difference between Docker CLI and Docker API?**
CLI is the command-line tool (`docker run`). API is the REST interface used by the CLI (and other tools) to communicate with the Docker Daemon.

**Q105: What is the role of dockerd?**
The persistent process (daemon) that manages containers. It listens for API requests and manages Docker objects.

**Q106: How does Docker handle layered filesystems?**
Uses Union File Systems (UnionFS). Each layer is read-only. The top layer is a thin read-write layer. Changes happen in the top layer (Copy-on-Write).

**Q107: Explain union file systems in Docker (AUFS, OverlayFS, etc.).**
Filesystems that allow files and directories of separate file systems, known as branches, to be transparently overlaid, forming a single coherent file system. Overlay2 is the current default.

**Q108: What are Docker manifests?**
A JSON file describing a Docker image. It lists the layers and the configuration (architecture, OS) required to run the image.

**Q109: What is the difference between Docker manifests and Docker images?**
The image is the actual bundle of files/layers. The manifest is the metadata describing that bundle and how to assemble it.

**Q110: How does the Docker image ID work?**
It's a SHA256 hash of the image config JSON object. It uniquely identifies the image content.

---

## ‚öôÔ∏è Docker Networking - Advanced (Questions 111-120)

**Q111: What is a MACVLAN network in Docker?**
Allows you to assign a MAC address to a container, making it appear as a physical device on your network.

**Q112: How does bridge networking work in Docker?**
It's a software bridge (`docker0`) on the host. Containers connect to it and get an internal IP. They communicate with the outside via NAT.

**Q113: What is host networking, and when should you use it?**
The container shares the host's networking namespace directly (no isolation). Use it for performance or specific networking needs (like mDNS).

**Q114: How do you create a custom Docker network?**
`docker network create --driver bridge my_custom_network`.

**Q115: How do you inspect a Docker network?**
`docker network inspect <network_name>`. Shows connected containers, subnet details, and gateway.

**Q116: Can two containers on different networks communicate?**
No, not directly. They need to be connected to the same network, or traffic must be routed between the networks (via a router or host).

**Q117: What is port mapping, and how is it done?**
Forwarding a port from the host to a port inside the container. `-p 8080:80`.

**Q118: How do you debug Docker network issues?**
Inspect network config, use `nslookup` or `ping` inside containers, check firewall rules (iptables), and verify DNS settings.

**Q119: How do you restrict container-to-container communication?**
Set `icc=false` (Inter-Container Communication) on the Docker daemon bridge network, or use specific firewall rules/network policies.

**Q120: How do you implement DNS-based service discovery in Docker?**
Docker runs an embedded DNS server. Containers on user-defined networks can resolve each other by container name automatically.

---

## üîí Security & Compliance - Advanced (Questions 121-130)

**Q121: What is a Docker security profile (seccomp)?**
Secure Computing Mode. A security facility in Linux kernel restricting the system calls a process can make. Docker applies a default profile blocking dangerous syscalls.

**Q122: What is AppArmor and how does it work with Docker?**
A Linux security module that restricts programs' capabilities (file access, network). Docker applies a default `docker-default` AppArmor profile to containers.

**Q123: What is SELinux and how is it used with Docker?**
Security-Enhanced Linux. Provides mandatory access control. Docker labels processes and files to ensure containers can't access host files improperly.

**Q124: What is the purpose of capabilities in Docker?**
Linux capabilities break down root privileges into small units. Docker drops most by default, keeping only necessary ones (like `NET_BIND_SERVICE`).

**Q125: How do you restrict Linux capabilities for a container?**
Use `--cap-drop=ALL` and then add back only needed ones with `--cap-add`.

**Q126: How do you enable Docker Content Trust (DCT)?**
Set environment variable `DOCKER_CONTENT_TRUST=1`. Enforces signature verification for pull/push.

**Q127: What is the `--security-opt` flag used for?**
To pass security options like SELinux labels, AppArmor profiles, or Seccomp profiles to the container runtime.

**Q128: How do you isolate sensitive data from logs in containers?**
Don't print secrets to stdout/stderr. Use Docker Secrets. Configure logging drivers to filter/mask data (if supported) or use external log processors.

**Q129: How does Docker protect against container escape?**
Namespaces, cgroups, Capabilities, Seccomp, AppArmor/SELinux, and read-only root filesystems all work together to contain the process.

**Q130: What are common CVEs related to Docker?**
RunC buffer overflow, symlink races, or unpatched kernel vulnerabilities allowing escapes. Keep Docker/Kernel updated.

---

## üöÄ Performance & Optimization (Questions 131-140)

**Q131: How do you analyze Docker container performance?**
`docker stats` for real-time view. `perf` tool on host. cAdvisor for metrics history.

**Q132: How do you reduce image size significantly?**
Multi-stage builds, Alpine base images, combine RUN instructions, remove package manager caches (`apt-get clean`).

**Q133: How does using Alpine base image impact performance?**
Smaller footprint = faster pull/start. `musl` libc might have slight performance differences vs `glibc` for some workloads.

**Q134: What is the performance difference between containers and VMs?**
Containers have near-native performance since they share the kernel. VMs have overhead from the Hypervisor and Guest OS execution.

**Q135: How do you enable Docker build cache effectively?**
Order Dockerfile instructions from least changing (install libs) to most changing (copy source code).

**Q136: What are the drawbacks of having large Docker images?**
Slow deployment (pull time), more storage usage, larger attack surface.

**Q137: How do you optimize Docker builds with `--cache-from`?**
Pull previous image first, then use `--cache-from` to let Docker check if layers from that image can be reused as cache sources.

**Q138: How do you measure startup time of containers?**
Time the command `docker run ...`. Or inside the app, log the start timestamp.

**Q139: What causes slow builds in Docker?**
Large build context (sending huge files to daemon), slow network for downloading deps, not using cache.

**Q140: How do you profile memory and CPU usage of containers?**
`docker stats`, `top` inside container, or language-specific profilers (pprof, JVisualVM) attached to the process.

---

## üîÅ CI/CD & GitOps Integration (Questions 141-150)

**Q141: How do you version Docker images in a CI pipeline?**
Use semantic versioning (v1.0.0), git commit SHA, or build number. Never rely solely on `latest`.

**Q142: What is the best strategy to tag Docker images?**
Tag with specific version, plus `latest` if it's the stable release. Immutable tags are best for production stability.

**Q143: How do you implement GitOps with Docker images?**
CI builds image -> pushes to registry -> updates a Git repo (Helm/K8s manifest) with the new image tag -> CD tool (ArgoCD) syncs cluster.

**Q144: How do you ensure rollback safety in Docker-based deployments?**
Use unique tags (never overwrite tags). Keep previous images in registry.

**Q145: How do you automate security scanning in CI for Docker images?**
Integrate tools like Trivy, Aqua Security, or Docker Scan in the pipeline. Fail build on critical vulnerabilities.

**Q146: What‚Äôs the difference between ephemeral containers and long-lived ones in CI?**
Ephemeral: Spun up for a test job, destroyed after. Long-lived: Persistent databases or services used by multiple jobs (less common in modern CI).

**Q147: What is an image promotion strategy in Docker pipelines?**
Build once (dev), tag/promote the *same* image to staging/prod registries after parsing tests. Avoid rebuilding for each env.

**Q148: How do you use Docker in a monorepo setup?**
Use build arguments or specific paths in `COPY` to build different services from the same repo. `docker build -f mapping/Dockerfile .`.

**Q149: How do you test multi-service containers before pushing to prod?**
Docker Compose in CI. Spin up full stack (e.g., App + DB), run integration tests, then tear down.

**Q150: How do you manage secrets in CI/CD for Dockerized apps?**
Inject secrets as env vars *only* at runtime (CI runner settings), never bake them into the image.

---

## üß© Docker Compose - Advanced (Questions 151-160)

**Q151: How do you override Docker Compose configs for staging vs prod?**
Use multiple files: `docker-compose.yml` (base) + `docker-compose.prod.yml` (override). `docker-compose -f base -f prod up`.

**Q152: What is the purpose of `.env` in Docker Compose?**
To set default values for variables used inside the `docker-compose.yml` file (e.g., `TAG=v1`).

**Q153: How do you handle environment-specific containers in Compose?**
Use profiles (modern compose) or different compose files to include/exclude services.

**Q154: How do you connect external containers to Docker Compose network?**
`docker network connect <compose_network> <external_container>`. Or define the network as `external: true` in compose.

**Q155: Can you define multiple Docker Compose files?**
Yes, they merge. Later files override arrays and dictionaries of earlier ones.

**Q156: How do you use `build` vs `image` in Compose?**
`build`: Builds from source (dev). `image`: Pulls pre-built image (prod). You can use both (build locally, name it `image`).

**Q157: How do you restart services automatically in Compose?**
`restart: always` or `restart: unless-stopped` in YAML.

**Q158: How do you define health checks in Compose?**
`healthcheck:` block under service. `test: ["CMD", "curl", "-f", "http://localhost"]`.

**Q159: What are Compose profiles and how are they used?**
Group services (e.g., `frontend`, `debug`). Start specific groups: `docker-compose --profile debug up`.

**Q160: How do you upgrade a running Compose stack with zero downtime?**
`docker-compose up -d --no-deps --scale web=2`. Rolling updates are better handled by Swarm/K8s, Compose is mostly for dev/single-host.

---

## üõ†Ô∏è BuildKit & Build Process (Questions 161-170)

**Q161: What is Docker BuildKit and why is it better?**
The modern build subsystem. Parallel builds, improved caching, secure secrets, lazy pulling. Faster and more efficient.

**Q162: How do you enable BuildKit in Docker CLI?**
`DOCKER_BUILDKIT=1 docker build .` (Default in newer versions).

**Q163: How does BuildKit handle secret mounts?**
`RUN --mount=type=secret,id=mysecret ...`. Mounts secret only for that command, doesn't leave trace in image layer.

**Q164: How do you run parallel builds with BuildKit?**
It automatically executes independent build stages in parallel.

**Q165: What is the `RUN --mount=type=cache` used for?**
Persists directories (like `~/.npm` or `/var/cache/apt`) between builds, speeding up dependency installation widely.

**Q166: How do you debug Docker builds effectively?**
Use `docker build --progress=plain`. Or interactively debug intermediate layers (not easy, usage of echoes helps).

**Q167: What are `ONBUILD` instructions used for?**
Triggered when the image is used as a base for *another* image. Useful for creating language-specific base images (e.g., "Maven OnBuild").

**Q168: How do you pass build arguments securely?**
Do *not* use `ARG` for secrets. Use BuildKit secret mounts.

**Q169: What is a base image vs parent image?**
Base image has `FROM scratch`. Parent image has `FROM ubuntu` (or anything else). Loosely used interchangeably.

**Q170: How do you prevent sensitive data leakage in builds?**
Use `.dockerignore`, don't COPY secrets. Use secret mounts. Squash layers if necessary (bad practice to rely on squashing for security).

---

## üåê Cloud Providers & Infrastructure (Questions 171-180)

**Q171: How do you run Docker containers in AWS ECS?**
Define Task Definition (like Compose), create Service/Cluster. ECS manages the containers on EC2 or Fargate.

**Q172: How does Docker integrate with AWS Fargate?**
Fargate is serverless ECS. You just define the container, CPU, RAM. AWS runs it without you managing the EC2 instance.

**Q173: How do you deploy Docker containers to Azure App Service?**
Push image to ACR/DockerHub. Point App Service to the image tag. Azure pulls and runs it.

**Q174: What are container instances in GCP (Cloud Run)?**
Serverless containers. You give an image, GCP runs it, scales to zero. Pay per request.

**Q175: How does Docker integrate with Terraform?**
Terraform has a Docker provider to manage local objects. Main usage is deploying cloud resources (ECS, EKS) that *run* Docker images.

**Q176: What is the difference between Docker and Podman?**
Podman is daemonless and rootless by design. Docker uses a daemon (`dockerd`). Podman matches Docker CLI (`alias docker=podman`).

**Q177: What is the role of Docker in Kubernetes?**
Historically the runtime. Now K8s uses `containerd` or `CRI-O` directly (CRI interface). Docker images are still the standard format.

**Q178: How do you create a private image registry in the cloud?**
Use managed services like ECR (AWS), GCR (GCP), ACR (Azure). Simple setup, integrated auth.

**Q179: What is Docker Desktop vs Docker Engine?**
Desktop: GUI app for Mac/Windows, includes VM, K8s, GUI. Engine: The core linux binaries (daemon + CLI).

**Q180: How do you provision infrastructure with Docker Machine?**
(Deprecated). Tool to install Docker Engine on virtual hosts. Now replaced by Cloud-init or specific cloud provisioners.

---

## üì¶ Storage & Volumes - Advanced (Questions 181-190)

**Q181: What is the difference between `tmpfs` and volume mounts?**
`tmpfs`: Stored in host memory (RAM), never written to disk. Gone on stop. Volume: Stored on host disk.

**Q182: How do you persist database state in Docker?**
Mount a named volume to the DB's data directory (e.g., `-v pgdata:/var/lib/postgresql/data`).

**Q183: How do you backup and restore Docker volumes?**
`docker run --rm -v my_vol:/vol -v $(pwd):/backup alpine tar cvf /backup/backup.tar /vol`. Restore is the reverse.

**Q184: How do you use NFS with Docker volumes?**
Create a volume with `docker volume create --driver local --opt type=nfs ...`. Containers can mount it to share data across hosts.

**Q185: What are CSI (Container Storage Interface) drivers?**
Standard interface for block/file storage systems to expose storage to container orchestrators (K8s). Docker has its own plugin system (legacy).

**Q186: How do you share volumes across containers?**
Mount the same named volume to both containers.

**Q187: How do you inspect data inside a volume?**
Mount it to a temporary alpine container and `ls`/`cat`. `docker run --rm -v vol:/data alpine ls /data`.

**Q188: How does Docker handle read-only volumes?**
Add `:ro` to mount: `-v /host/data:/container/data:ro`.

**Q189: What‚Äôs the impact of file permission issues in volume mounts?**
If host UID doesn't match container UID, the container process might not be able to write to the volume. (UID 1000 issue).

**Q190: How do you manage volume lifecycles?**
Volumes exist until explicitly removed (`docker volume rm`). `docker volume prune` cleans unattached ones.

---

## üìå Real-World Scenarios (Questions 191-200)

**Q191: How do you identify which containers are consuming the most CPU?**
`docker stats --no-stream --format "table {{.Name}}\t{{.CPUPerc}}"` and sort.

**Q192: What do you do when a container uses 100% disk space?**
Check if it's logging too much (limit log size), or writing temp files (use tmpfs), or if the volume is full.

**Q193: How do you roll out updates to a fleet of containers?**
Orchestrator (Swarm/K8s) does this. Docker CLI: Script loop `docker stop`, `docker rm`, `docker run new_image`.

**Q194: How do you run scheduled jobs in Docker (cron)?**
Run cron *inside* the container (foreground) OR use host cron to run `docker run ...` tasks OR K8s CronJobs.

**Q195: How do you detect and avoid container zombie processes?**
Use an init process (`--init` flag or `tini` in entrypoint) to reap zombies.

**Q196: How do you perform blue-green deployments with Docker?**
Spin up Green environment (new version), switch Load Balancer to Green. If safe, tear down Blue.

**Q197: How do you restart failed containers automatically?**
Use `--restart on-failure` or `--restart always` policy.

**Q198: How do you isolate builds between microservices using Docker?**
Each service has its own Dockerfile. Builds run in independent contexts or CI jobs.

**Q199: How do you implement canary releases using Docker?**
Routing magic (Traefik/Nginx/Service Mesh). Send 5% traffic to container V2, rest to V1.

**Q200: How do you document Docker workflows for your team?**
README.md, Makefile (shortcuts for docker commands), and comments in Dockerfile.

---

## üß± Core Docker Internals (Questions 201-210)

**Q201: What is the difference between containers and sandboxing?**
Sandboxing is a security mechanism to restrict running programs (often strictly). Containers use sandboxing (namespaces/cgroups) but also provide a complete OS-like runtime environment and packaging.

**Q202: What is the Docker Engine API and how do you use it?**
A RESTful API exposed by the Docker Daemon. Used by the CLI and external tools to manage objects. You can call it via `curl --unix-socket /var/run/docker.sock http://localhost/containers/json`.

**Q203: How does Docker manage container lifecycle states internally?**
`dockerd` passes requests to `containerd`, which uses `runc` to interact with the kernel. States (created, running, paused, exited) are tracked via these lower-level runtimes.

**Q204: What happens under the hood when you run `docker run`?**
Docker client -> Daemon API -> Check Image locally (pull if missing) -> Create Container via containerd -> containerd-shim -> runc creates process with namespaces/cgroups -> App starts.

**Q205: Explain the Docker image digest.**
A content-addressable identifier (SHA256 hash). It stays immutable even if tags change. Ensures you are pulling generally the exact same bits.

**Q206: What is the Docker storage driver?**
The component that manages the filesystem layers and Copy-On-Write operations (e.g., Overlay2, fuse-overlayfs, devicemapper, btrfs).

**Q207: Compare OverlayFS and aufs in Docker.**
`aufs` was the original, complex union filesystem. `OverlayFS` (Overlay2) is modern, in-kernel, faster, and simpler. Overlay2 is the standard default now.

**Q208: What is a Docker union mount?**
The mechanism of combining multiple directories (layers) into one that looks like a single filesystem to the container.

**Q209: How does Docker manage layered files in copy-on-write systems?**
When a container modifies a file from a lower (read-only) layer, Docker copies that file up to the read-write top layer before applying changes.

**Q210: What is the role of containerd in Docker's architecture?**
The industry-standard container runtime (CNCF graduated). It manages the complete lifecycle of its host system‚Äôs container processes (pull, run, stop).

---

## üöß Advanced Dockerfile Mechanics (Questions 211-220)

**Q211: How do you use `ARG` vs `ENV` in Dockerfile?**
`ARG`: Available only during build time (not in final image). `ENV`: Available during build time AND runtime (persists in container).

**Q212: How can you dynamically set labels in a Dockerfile?**
Use `ARG` variables in `LABEL` instructions. Pass values via `--build-arg`. `LABEL version=${BUILD_VERSION}`.

**Q213: How do you split Dockerfiles for better caching?**
Place rarely changing instructions (installing connection-libs) at the top. Copy `requirements.txt`/`package.json` and install dependencies *before* copying source code.

**Q214: What is a good strategy for base image versioning?**
Pin to specific minor versions (e.g., `python:3.9.5-slim`). Avoid `latest` to prevent breaking changes in upstream updates.

**Q215: Why should you pin image tags instead of using `latest`?**
Reproducibility. `latest` changes over time. Troubleshooting production issues is impossible if you don't know exactly which version is running.

**Q216: How do you ensure idempotent Dockerfile builds?**
Pin all versions (base image, system packages, app dependencies). Use checksums for downloaded files.

**Q217: How can you minimize Docker build context?**
Use `.dockerignore` to exclude files like `.git`, `node_modules`, standard logs, and temp files from being sent to the daemon.

**Q218: What‚Äôs the use of `USER` in Dockerfile?**
Switches the user for subsequent instructions (RUN, CMD, ENTRYPOINT). Crucial for running as non-root for security.

**Q219: How can you multi-target builds in Docker?**
Use multi-stage builds. You can target a specific stage with `docker build --target stage_name .` (e.g., build 'test' stage vs 'prod' stage).

**Q220: How do you debug failed `RUN` commands during build?**
Run a container from the image ID of the *previous* successful step (`docker run -it <prev_layer_id> sh`) and try running the failed command manually.

---

## üß™ Advanced Testing & QA (Questions 221-230)

**Q221: How can you test container health during CI?**
Use `docker ps` to check status (if HEALTHCHECK defined). Or script a `curl`/`api-check` against the exposed port before proceeding.

**Q222: How do you simulate network failure in a container?**
Use `tc` (Traffic Control) or `iptables` inside the container (if privileged) or disconnect network via `docker network disconnect`.

**Q223: How can you perform chaos testing with containers?**
Tools like Pumba or Chaos Blade. They can randomly pause, kill, or delay network traffic for containers to test resilience.

**Q224: How do you use `testcontainers` in Docker-based testing?**
A Java/Go/Node library that programmatically spins up throwaway containers (DBs, Queues) during unit tests for real integration testing.

**Q225: How do you snapshot container states for rollback?**
`docker commit <container_id> backup_image:tag` creates a new image from the current state. (Not recommended for prod state management, use volumes).

**Q226: How do you implement container linting?**
Use `Hadolint` to lint Dockerfiles for best practices. Use `dockle` to lint built images.

**Q227: How do you benchmark containers across environments?**
Standardized tools like `sysbench` running inside the container to measure CPU/RAM/Disk performance relative to the host limit.

**Q228: How do you run integration tests across multiple services using Docker Compose?**
`docker-compose up -d`. Run test script (e.g., `pytest`). `docker-compose down`. Use `--exit-code-from` to fail CI if tests fail.

**Q229: What is Docker check and how is it different from `healthcheck`?**
`HEALTHCHECK`: Docker instruction to update container status. "Check": Generic term, but `docker checkpoint` is a feature to freeze a running container (experimental).

**Q230: How do you test backward compatibility with old image versions?**
Spin up old version (DB/Service), insert data. Upgrade container to new image. Verify data integrity and migration scripts.

---

## üìà Monitoring & Observability (Questions 231-240)

**Q231: How can you integrate Docker with Prometheus?**
Enable Docker 'experimental' metrics in `daemon.json` (`"metrics-addr": "0.0.0.0:9323"`). Scrape that endpoint, or use cAdvisor.

**Q232: What are some logging drivers available in Docker?**
`json-file` (default), `syslog`, `journald`, `gelf`, `fluentd`, `awslogs`, `splunk`.

**Q233: What is the `json-file` log driver and its drawbacks?**
Writes logs to JSON files on disk. Drawbacks: Can fill up disk space if no rotation logic is set (`max-size`, `max-file`).

**Q234: How do you send logs to a remote syslog server?**
`docker run --log-driver syslog --log-opt syslog-address=udp://1.2.3.4:514 ...`.

**Q235: How do you monitor Docker container network metrics?**
`docker stats` shows Input/Output network bytes. cAdvisor gives detailed per-interface metrics.

**Q236: What tools can you use to monitor Docker container memory usage?**
`docker stats`, `ctop` (CLI), cAdvisor, Prometheus+Grafana, Datadog agents.

**Q237: How can you set up alerting for failing containers?**
Monitor container metrics (restart count, exit code) via Prometheus. Set AlertManager rules to fire if `container_last_seen` < time.

**Q238: How can you use Grafana dashboards with Docker?**
Run Node Exporter + cAdvisor + Prometheus. Import a standard "Docker Container Exporter" dashboard in Grafana.

**Q239: How do you debug container I/O bottlenecks?**
Use `iotop` on the host (filtering by container PID). Or block I/O metrics from `docker stats`. Check Volume disk latency.

**Q240: How do you get the exit code of a container?**
`docker inspect <container_id> --format='{{.State.ExitCode}}'`.

---

## üíæ Advanced Volumes & Storage (Questions 241-250)

**Q241: How can you mount config files as volumes?**
Bind mount single file: `-v /host/app.conf:/app/app.conf`. Often used for overriding defaults.

**Q242: How do you share data between containers securely?**
Create a named volume. Mount it to both. Ensure file permissions restrict access to the specific UID/GID used by apps.

**Q243: What happens to volumes when containers are removed?**
Named volumes persist. Anonymous volumes may persist (dangling) unless removed with `docker rm -v`.

**Q244: How do you manage storage for stateful containers across clusters?**
Local volumes don't work (tied to node). Use plugins for cloud storage (EBS/RexRay) or network storage (NFS, GlusterFS, Portworx).

**Q245: How do you encrypt volume data in Docker?**
Docker doesn't encrypt natively. Use filesystem-level encryption (LUKS) on the host mount point, or use third-party storage plugins with encryption support.

**Q246: What happens to volume data in Docker swarm rolling update?**
If volume is local, data is lost if the task moves nodes. Need constraints (`node.hostname==x`) or shared network storage.

**Q247: Can volumes be backed up directly? How?**
Not "directly" via API. You must copy files out. Run a helper container mounting the volume and tarball the contents to host or S3.

**Q248: How do you use third-party volume plugins?**
`docker plugin install <plugin_name>`. Reference `--driver <plugin_name>` when creating volume.

**Q249: What is lazy loading of volumes?**
Volumes (especially network ones) mount on demand. Some drivers only fetch data chunks when accessed (rare in standard Docker, common in image pulling).

**Q250: Can you mount a volume from one container into another running container?**
Yes, use `--volumes-from <container_name>`. It mounts all volumes from the source container to the new one.

---

## ‚ö° Docker & Kubernetes (Questions 251-260)

**Q251: Why was Docker deprecated in Kubernetes 1.20+?**
K8s stopped supporting `dockershim` (the bridge to Docker daemon). It now interacts directly with OCI runtimes (containerd/CRI-O) for better performance and simplicity.

**Q252: What is the difference between Docker and CRI-O?**
Docker is a full suite (dev tools + runtime). CRI-O is a lightweight runtime specifically built for Kubernetes (implements CRI).

**Q253: Can you use Docker with Minikube? How?**
Yes. Minikube can run *inside* Docker (driver=docker) or use the Docker daemon *inside* Minikube (`eval $(minikube docker-env)`).

**Q254: What is the role of Docker images in Kubernetes clusters?**
They are the packaging format. K8s (via containerd) pulls and runs Docker-formatted images (OCI compliant).

**Q255: What are some migration steps from Docker to containerd?**
Usually handled by cloud provider. For self-managed: Update Kubelet flags, remove Docker, install containerd, point Kubelet to containerd socket.

**Q256: What tools help convert Docker Compose to Kubernetes YAML?**
`kompose` is the standard tool. `kompose convert -f docker-compose.yml`.

**Q257: Why is container runtime interface (CRI) important in Kubernetes?**
Decouples K8s from specific runtimes. Allows swapping Docker for containerd, CRI-O, or gVisor without changing K8s core code.

**Q258: What happens when you use `kubectl run --image`?**
Scheduler finds node -> Kubelet on node instructs runtime (containerd) -> Runtime pulls image -> starts container. Same flow as Docker but automated.

**Q259: How do you push Docker images to be used by Kubernetes pods?**
Push to a registry (Docker Hub/ECR) that the cluster can access. Or loading manually (`kind load image`) for local clusters.

**Q260: How do you debug image pull issues in Kubernetes using Docker?**
Ssh into the K8s node. Try `docker pull` (or `crictl pull`) manually to verify network/auth/image existence.

---

## üö¢ Docker Swarm Deep Dive (Questions 261-270)

**Q261: What is the role of Raft consensus in Swarm?**
Manager nodes use Raft to agree on the state of the cluster (membership, services setup). Ensures consistency even if a manager fails.

**Q262: What is a replicated vs global service?**
Replicated: Run X copies of a task. Global: Run one copy of the task on *every* active node in the cluster (e.g., monitoring agents).

**Q263: How does Docker Swarm handle node failure?**
If a worker fails, managers reschedule tasks on healthy nodes. If a manager fails, others elect a leader (if quorum exists).

**Q264: What are Swarm secrets and how are they encrypted?**
Objects to store sensitive data. Encrypted on disk (manager logs), encrypted in transit (overlay net), and mounted as unencrypted files in tmpfs inside the container.

**Q265: How does Swarm auto-recovery work?**
Reconciliation loop. Swarm compares "Desired State" (3 replicas) vs "Current State" (2 replicas). If mismatch, it starts a new one.

**Q266: What is service placement constraint?**
Rules limiting where tasks run. `constraints: [node.role == manager]` or `[node.labels.region == us-east]`.

**Q267: What‚Äôs the purpose of service update configuration?**
Controls rolling updates: `parallelism` (how many at once), `delay` (wait time), `failure_action` (pause/rollback).

**Q268: How do rolling updates work in Swarm?**
Swarm stops N tasks, starts N new ones with new config, waits for health, repeats until all are updated.

**Q269: How do you rollback in Docker Swarm?**
`docker service update --rollback <service_name>`. Reverts to the previous service definition effectively.

**Q270: How do you scale services up/down in Swarm via CLI?**
`docker service scale <service_name>=<replicas>`. E.g., `docker service scale web=5`.

---

## üõ°Ô∏è Container Isolation & Policies (Questions 271-280)

**Q271: How does Docker provide process isolation?**
Namespaces (PID, Mount, User, Network, UTS, IPC) prevent containers from seeing each other's processes/files.

**Q272: What is namespace sharing between containers?**
Containers can share a namespace (like Network) to communicate via localhost (Pod concept). Docker CLI: `--network container:<id>`.

**Q273: What is the danger of `--privileged` mode?**
Container effectively runs as root on host. Can load kernel modules, access host devices, and escape isolation.

**Q274: How do AppArmor profiles differ per container?**
You can apply custom profiles (`--security-opt apparmor=my-profile`) to whitelist/blacklist file paths per specific application needs.

**Q275: How do you set immutable filesystem for containers?**
`--read-only`. Forces the container to treat root fs as Read-Only. Must mount volumes/tmpfs for any write needs.

**Q276: How does Docker protect the host kernel?**
It doesn't "protect" the kernel (kernel is shared). It restricts access TO the kernel via Seccomp and Capabilities filters.

**Q277: Can containers affect host performance? How to mitigate?**
Yes (Noisy Neighbor). Unbounded CPU/RAM usage. Mitigate with Request/Limits (cgroups) on every container.

**Q278: How do Linux capabilities impact container permissions?**
They are fine-grained rights. e.g., `CHOWN` allows changing file ownership. `NET_ADMIN` allows network config.

**Q279: What‚Äôs the role of UID/GID mapping in Docker?**
User Namespaces remap Container Root (0) to a high Host User (10000). So "Root" inside is "Nobody" outside.

**Q280: How can you set a read-only root filesystem?**
Flag `--read-only` in `docker run`.

---

## üß∞ Tooling, Ecosystem & Plugins (Questions 281-290)

**Q281: What is Docker Slim?**
A tool that analyzes your container and minifies it by throwing away files not accessed during execution.

**Q282: How does Dive help in image optimization?**
CLI tool to inspect Docker Image layers. Shows what files changed/added/wasted space in each layer.

**Q283: What is Hadolint and how do you use it?**
Haskell Dockerfile Linter. Checks Dockerfile against best practice rules. `hadolint Dockerfile`.

**Q284: What is Docker Scout?**
Docker's newer supply chain security tool. Analyzes images for CVEs and remediation advice (replaces old `docker scan`).

**Q285: How do you use Clair for container vulnerability scanning?**
Clair is an API-driven static analysis tool. Usually integrated into Registries (Quay) to scan images as they are pushed.

**Q286: What are Docker plugins and what types are available?**
Extensions that add functionality. Main types: Network (e.g., Weave, Calico) and Volume (e.g., Portworx, REX-Ray).

**Q287: What are alternatives to Docker Compose?**
Podman Compose, Skaffold, Tilt (for K8s dev), Helm (for packaging).

**Q288: How can you use Skopeo with Docker registries?**
CLI tool to inspect images on remote registries without pulling them. Can copy images between registries directly.

**Q289: What are some tools for visualizing container topologies?**
Weave Scope, Portainer (Visual management), Docker Desktop Dashboard.

**Q290: What‚Äôs the difference between Buildah and Docker?**
Buildah is a CLI tool purely for building OCI images (often rootless). Doesn't need a daemon. Docker Build requires the daemon.

---

## üì¶ Registries & Image Distribution (Questions 291-300)

**Q291: How does Docker pull layers from registries?**
It checks manifest, downloads missing layers (blobs) in parallel, and verifies checksums.

**Q292: What is a multi-arch Docker image?**
A manifest list (index) pointing to different image variants (amd64, arm64) for the same tag. Host pulls the one matching its CPU.

**Q293: How do you create multi-platform Docker images?**
`docker buildx build --platform linux/amd64,linux/arm64 -t myimage:tag --push .`.

**Q294: How does Docker Hub rate-limiting work?**
Limits anonymous pulls (100/6hrs) and free authenticated pulls (200/6hrs). Enterprise is unlimited.

**Q295: What is image replication and why is it useful?**
Copying images between registries (e.g., Hub -> Local Registry). Improves speed (latency), reliability, and security (air-gapped).

**Q296: How do you enforce private registry access rules?**
Use Basic Auth (htpasswd), Token Auth Service, or integrate with LDAP/AD/OIDC providers if supported by Registry software (Harbor/Artifactory).

**Q297: What is Docker registry garbage collection?**
Process of deleting blob data from disk that is no longer referenced by any manifest (tag) in the registry.

**Q298: How do you secure a private registry with TLS?**
Mount SSL certificates (`domain.crt`, `domain.key`) into the Registry container. Configure clients to trust the CA.

**Q299: How do you audit access logs for registries?**
Registry containers output access logs to stdout (or file). Pipe these to ELK/Splunk to track who pulled/pushed what.

**Q400: What is the roadmap of Docker in the AI & ML ecosystem?**
Better GPU support, AI-specific stacks (GenAI stack), and optimizing large image handling (for huge model weights).

---

## üö¢ Debugging & Troubleshooting (Questions 401-410)

**Q401: How do you debug a stuck container that won‚Äôt exit?**
It might be ignoring SIGTERM. Use `docker kill` (sends SIGKILL). Or debug with `strace -p <host_pid>` to see what it's waiting for.

**Q402: How do you inspect a container‚Äôs open ports?**
`docker port <container>` lists mapped ports. `netstat -tulpn` inside container (if available) lists listening ports.

**Q403: What is the impact of high CPU usage inside a container on the host?**
It steals cycles from other containers and host processes unless capped with `--cpus` or `--cpu-shares`.

**Q404: How do you detect memory leaks inside a container?**
Monitor `docker stats`. If memory usage grows indefinitely without release, it's a leak. Use language profilers inside.

**Q405: How do you troubleshoot network latency between Docker containers?**
Ping/MTR between containers. Check if they are carrying traffic over a slow Overlay network (encapsulation overhead) vs Bridge.

**Q406: How do you debug a container that exits immediately?**
Check `docker logs`. Usually, the main process finishes (e.g., a script ends) or crashes on startup due to missing config.

**Q407: How can you identify a misconfigured Dockerfile layer?**
Use `docker history` to see size spikes. Use `docker run` on intermediate layer IDs to test the state at that point.

**Q408: What tools can be used to trace syscalls from within a container?**
`strace`, `sysdig`, or eBPF tools like `tetragon`. Run from host targeting the container PID.

**Q409: What does the `docker events` command show and how is it used?**
Real-time stream of daemon actions (attach, die, start, oom). Useful for debugging orchestration issues or auditing.

**Q410: How do you inspect dead containers?**
`docker inspect <id>`. Look at `State.ExitCode` and `State.Error`. `docker logs` might still have the crash output.

---

## üß± Linux Kernel + Docker (Questions 411-420)

**Q411: How do containers differ from chroot jails?**
Chroot only isolates filesystem root. Containers (Namespaces) isolate PID, IPC, Net, User, Mount, and Hostname.

**Q412: How does Docker leverage union filesystems like OverlayFS?**
It merges the LowerDir (Image layers) and UpperDir (Container writable layer) into the MergedDir (View) the app sees.

**Q413: How does the kernel handle multiple PID 1s in containers?**
PID namespaces have their own numbering. A process can be PID 1 in the container namespace but PID 12345 in the host namespace.

**Q414: How does a container's network stack differ from the host?**
It has its own network namespace: unique interfaces (eth0), routing table, iptables rules, and loopback device.

**Q415: How do Linux namespaces isolate containers at the kernel level?**
The kernel structures (like `task_struct`) have pointers to specific namespaces. Unshared pointers mean processes can't "see" each other's resources.

**Q416: What are control group (cgroup v2) differences from v1?**
v2 is a unified hierarchy (simpler). Allows safer delegation to non-root users (enabling rootless containers).

**Q417: How does Docker limit disk IOPS using cgroups?**
`--device-write-iops`. Cgroups block the process's I/O request in the block layer scheduler if it exceeds the quota.

**Q418: How does a container know its resource constraints?**
It doesn't automatically (tools like `free` show Host RAM). Apps must read `/sys/fs/cgroup/...` to know limits, or use container-aware runtimes (Java 10+).

**Q419: What happens when a container reaches its memory limit?**
The OOM Killer (kernel) terminates a process in that cgroup. Usually the main app.

**Q420: How does Docker use capabilities like `CAP_NET_BIND_SERVICE`?**
It sets the capabilities bitmask on the process allow-list. If not set, the kernel denies the `bind()` call to privileged ports.

---

## üîß Advanced CLI & API (Questions 421-430)

**Q421: How do you use the Docker REST API for automation?**
Enable socket or TCP. Make HTTP requests: `POST /containers/create`, `POST /containers/(id)/start`. Used by custom dashboards/CI tools.

**Q422: How do you create a container without starting it?**
`docker create [options] image`. Returns ID. Useful for setting up volumes/networks before `docker start`.

**Q423: What is the use of `docker wait`?**
Blocks until a container stops, then prints its exit code. Useful in scripts waiting for a job to finish.

**Q424: What does `docker pause` and `unpause` do?**
Freezes all processes in the container using cgroup freezer. CPU usage drops to zero. Memory stays allocated.

**Q425: How do you attach to a background-running container?**
`docker attach <id>`. Connects local stdio to the container's streams. Caution: Ctrl+C might kill the container.

**Q426: How do you use `docker update` to change resource limits?**
`docker update --cpus 2 <container>`. Apply cgroup changes live without restarting the container.

**Q427: How do you copy files from a running container?**
`docker cp <container>:/path/file ./local_file`. Uses a tar stream via the API.

**Q428: How do you see which containers are using a specific volume?**
`docker ps --filter volume=myvol`. Returns list of containers with that volume mounted.

**Q429: What‚Äôs the difference between `docker top` and `docker stats`?**
`top`: Lists running processes inside container (PID, UID, Time). `stats`: Live resource usage stream (CPU%, MEM%).

**Q430: How do you tail logs in JSON format?**
If using default driver: `docker logs <id>`. To get *Docker API* JSON stream (with timestamps/stream-type), use raw API or specialized log shippers.

---

## üì¶ Docker in Build Pipelines (Questions 431-440)

**Q431: How do you use Docker multi-stage builds in CI/CD pipelines?**
Write one Dockerfile with `AS build` and `AS release`. The pipeline just runs `docker build`. No need to install build tools on the CI runner agents.

**Q432: What are benefits of Docker caching in CI runners?**
Drastically reduces build time. Use Registry caching or save/load local layer tarballs between runs.

**Q433: How do you reduce build times using GitHub Actions + Docker?**
Use `docker/setup-buildx-action` and `cache-from: type=gha`, `cache-to: type=gha,mode=max`.

**Q434: How do you manage secrets in CI/CD Docker builds?**
In GHA/Jenkins, inject secrets as BuildKit secret mounts (`--secret id=mytoke`). Don't pass as ARGs.

**Q435: What happens if your CI pipeline gets interrupted during `docker build`?**
The intermediate layers might be cached, but the final image isn't tagged. Next run picks up from last cached point.

**Q436: How do you create reproducible builds across CI agents?**
Use specific base digest (`@sha256`). Ensure timestamps are normalized. Use identical runner architecture.

**Q437: What‚Äôs the difference between `docker build` and `docker-compose build`?**
One builds single image. Compose builds all services defined in `docker-compose.yml` with context/args defined there.

**Q438: How do you use Docker-in-Docker in CI?**
Run a privileged Docker container that runs its own daemon. CI jobs talk to this inner daemon.

**Q439: How do you push to a registry from a CI job securely?**
`docker login -u user -p $TOKEN`. Use ephemeral tokens (GITHUB_TOKEN) or OIDC if possible (AWS/GCP).

**Q440: How do you use cache mounts in `RUN` commands?**
`RUN --mount=type=cache,target=/root/.m2 mvn package`. Caches the Maven repo on the host, reused across builds.

---

## üß© Docker Compose in Depth (Questions 441-450)

**Q441: What is the difference between `depends_on` and true service readiness?**
`depends_on` only waits for the container status "Started". It doesn't know if the App inside is ready. Use `condition: service_healthy` for that.

**Q442: How do you configure networks in Docker Compose?**
`networks:` top-level key. Define driver, subnet. Assign services to networks under `service: networks:`.

**Q443: What are named volumes and how are they reused across services?**
Defined in top-level `volumes:`. Service A writes to it, Service B reads from it. Persists beyond `down`.

**Q444: How do you share environment variables across multiple services?**
Use `x-common-variables:` (extension fields) & YAML anchors (`&default-env`, `*default-env`). Or a shared `.env` file.

**Q445: How do you define build contexts per service in Compose?**
`build: context: ./backend`. `build: context: ./frontend`. Both in same compose file.

**Q446: How do you debug Compose service dependencies?**
Check `docker-compose logs -f`. If A fails because B isn't ready, add `restart: on-failure` or a `wait-for-it` script.

**Q447: How do you override Compose files for production?**
`docker-compose.yml` (common) + `docker-compose.prod.yml` (env vars, stricter restart policies, no ports exposed).

**Q448: What is the `.env` file's role in Compose projects?**
Interpolates `${VARIABLE}` syntax in the YAML file. Does *not* automatically pass all vars to containers (need `env_file` or `environment`).

**Q449: How do you scale a service in Compose?**
`replicas: 3` (Deploy mode) or `up --scale web=3`.

**Q450: How do you set container labels from Compose?**
`labels:` key. Useful for Traefik router configuration directly in compose.

---

## ‚ö° Docker + Dev Environments (Questions 451-460)

**Q451: How do you use Docker for local development with live code reloading?**
Bind mount source code (`-v $(pwd):/app`). Run dev server (nodemon/flask run) inside container that watches file changes.

**Q452: How do you mount a local directory into a container with read-only access?**
`-v $(pwd):/app:ro`. Good for ensuring the app doesn't accidentally delete source code.

**Q453: What is Docker Desktop's Dev Environments feature?**
Allows sharing a declarative dev setup (git repo + dockerfile) so teams get identical editors/tools in a container.

**Q454: How do you manage host-to-container volume sync on Windows?**
WSL2 backend handles it efficiently now. Legacy Hyper-V was slow. Ensure code is in WSL2 filesystem, not Windows Mounts (`/mnt/c`) for speed.

**Q455: How do you containerize a microservice for fast iteration?**
Use multi-stage. Target the `dev` stage which has hot-reload tools installed.

**Q456: How can Docker improve onboarding for dev teams?**
"Checkout repo, run `docker-compose up`." No need to install Java/Node/Python/DB versions locally.

**Q457: How do you debug file permission issues when mounting volumes?**
User inside container (root? 1000?) must match Host user usage. Use `chown` in entrypoint or map UID/GID via args.

**Q458: How do you persist PostgreSQL or Redis data locally?**
Use a named volume in compose (`- db_data:/var/lib/postgresql/data`).

**Q459: How do you use watch scripts with Docker for hot reload?**
`docker compose watch` (newer feature). Syncs file changes and triggers command restarts automatically.

**Q460: How do you isolate dev environments with custom networks?**
Project name creates default strict network isolation. Different projects (`web1`, `web2`) can't talk unless joined to an external shared network.

---

## üê≥ Docker + Serverless (Questions 461-470)

**Q461: What is Firecracker and how does it relate to containers?**
AWS microVM tech. It runs containers inside lightweight VMs for hard multi-tenant isolation.

**Q462: What is Docker‚Äôs position in serverless architecture?**
It is the packaging standard. AWS Lambda, Google Cloud Run, Azure Functions all accept Docker images as deployment artifacts.

**Q463: How are microVMs different from containers?**
MicroVM (Firecracker): Own Kernel. Slower start than container, faster than VM. Container: Shared Kernel. Fastest start, weaker isolation.

**Q464: What is Kata Containers and how does it improve security?**
Runtime that launches each container in a lightweight VM. Prevents kernel vulnerability escapes affecting the host.

**Q465: How do you run AWS Lambda locally with Docker?**
Use `sam local start-api` or Docker images provided by AWS RIE (Runtime Interface Emulator).

**Q466: What are sandboxed containers?**
Containers with extra isolation layers (gVisor, Kata). They intercept syscalls in userspace (gVisor) or use VT-x (Kata).

**Q467: How can Docker be used to run serverless functions with openfaas?**
OpenFaaS packages functions as Docker containers. Watchdog process inside creates the serverless HTTP interface.

**Q468: What‚Äôs the benefit of combining gVisor with Docker?**
Defense in depth. If app exploits a kernel bug, it hits gVisor's emulated kernel, not the host's real kernel.

**Q469: Can Docker containers be orchestrated in FaaS platforms?**
Yes, Cloud Run (Knative) orchestrates containers, scaling them 0-to-N based on HTTP requests.

**Q470: What is OCI runtimes' role in supporting microVMs?**
Docker uses `containerd` which calls the OCI runtime. Pass `--runtime=kata` to switch from runc (standard) to Kata (VM-based) transparently.

---

## üîê Security Automation (Questions 471-480)

**Q471: How do you run containers with read-only filesystems?**
`--read-only`. Requires explicitly mounting `tmpfs` for locations the app *needs* to write (`/tmp`, `/run`).

**Q472: What is a security scanner in DockerHub?**
Auto-scans pushed images for CVEs in OS packages. Reports Vulnerability severity (Critical/High).

**Q473: How do you configure `no-new-privileges` in Docker?**
`--security-opt no-new-privileges:true`. Prevents `setuid` binaries (like `sudo`) from gaining privileges inside the container.

**Q474: What does `--cap-drop=ALL` do and when should you use it?**
Drops all Linux capabilities. The container can't do anything privileged (chown, kill, net_bind). Best practice for secure apps; add back only what's needed.

**Q475: What‚Äôs the best way to rotate secrets inside a container?**
Docker Swarm/K8s secrets are updated by redeploying the service. You can't rotate a secret in a running container without restart/remount (usually).

**Q476: How do you detect tampering in a running container?**
Tools like Falco monitor syscalls at runtime. If a container spawns an unexpected shell or edits `/etc/passwd`, Falco alerts.

**Q477: What is Docker content trust and how does it work?**
Ensures you only run signed images. Prevents running malicious images tagged as "latest" by a compromised registry account.

**Q478: How do you disable inter-container communication?**
Daemon flag `--icc=false`. Containers on the default bridge cannot talk. Users must explicitly link them or use custom networks.

**Q479: What are seccomp profiles and how do you customize them?**
JSON files defining allowed syscalls. Download default profile, edit (remove `ptrace` or `sys_admin` related calls), pass with `--security-opt seccomp=profile.json`.

**Q480: What is the role of Snyk in Docker security?**
Detects vulnerabilities in base images AND application dependencies (pip, npm) inside the image.

---

## üåê Hybrid & Multi-Platform (Questions 481-490)

**Q481: How do you build ARM images on x86 machines?**
`docker buildx` with QEMU emulation. `docker buildx build --platform linux/arm64 .`.

**Q482: How do you emulate cross-architecture builds with QEMU?**
Ton of overhead (slow). It translates ARM instructions to x86 instructions.

**Q483: How do you publish multi-platform images to registries?**
Buildx pushes a Manifest List. Clients pulling `myimage` get the correct hash for their arch automatically.

**Q484: What is `platform=linux/arm64` used for?**
In `FROM`: `FROM --platform=linux/amd64` forces an Intel image even on Apple Silicon (using Rosetta/QEMU).

**Q485: How do you run a Windows container on a Linux host?**
You generally don't. You need a Windows Host/Node. Or use VM isolation (LCOW - Linux Containers on Windows, reversed).

**Q486: What‚Äôs the difference between LCOW and WCOW?**
WCOW: Windows Containers on Windows (Native). LCOW: Linux Containers on Windows (Hyper-V VM).

**Q487: Can you share volumes across OS platforms?**
Yes, but file permissions (POSIX vs NTFS ACLs) are messy. Performance issues exist in translation layers.

**Q488: How do Docker Desktop and WSL2 work together?**
Desktop runs the daemon *inside* a specialized WSL2 distro. Fast, integrated with Windows file explorer.

**Q489: How do you configure Docker for multi-architecture builds in CI?**
Set up `binfmt_misc` (QEMU). Create a generic builder `docker buildx create --use`. Build and push.

**Q490: How do you test performance differences on ARM vs x86 containers?**
Build for both. Run same load test benchmark on AWS Graviton (ARM) vs standard EC2 (x86).

---

## üìà Observability Tools (Questions 491-500)

**Q491: How do you use `cadvisor` to inspect container metrics?**
Run cAdvisor container. It collects stats from docker socket/cgroups and exposes a Prometheus `/metrics` endpoint and a web UI.

**Q492: How do you integrate Docker metrics into Prometheus?**
Scrape cAdvisor port 8080. Or scrape Docker Daemon port 9323.

**Q493: What is `logspout` and how does it work?**
A routing container. Attaches to all other containers' logs via Docker socket and forwards them to Syslog/HTTP/Logstash.

**Q494: How do you configure Fluentd with Docker containers?**
Use logging driver `--log-driver=fluentd`. The daemon sends logs directly to Fluentd agent, which processes/stores them.

**Q495: What‚Äôs the best way to tail logs from all containers at once?**
`docker-compose logs -f`. Or use a tool like `dozzle` (web UI) or `stern` (multi-pod/container tailing).

**Q496: How do you set log file rotation and retention in Docker?**
`daemon.json`: `{"log-opts": {"max-size": "10m", "max-file": "3"}}`. Prevents disk filling.

**Q497: How do you analyze container startup time?**
`docker events` to see timestamps of 'create' vs 'start'. Or inspect Application logs for "Started in X ms".

**Q498: How can you inspect container DNS resolution failures?**
`docker run --rm --entrypoint nslookup myimage target_host`. Check if it resolves via internal DNS `127.0.0.11`.

**Q499: How do you identify container resource starvation?**
Metrics: throttling count (CPU) or OOM kill events (Memory). If CPU is pinned at quota 100% of time, it's starved.

**Q500: How can OpenTelemetry be used with Docker containers?**
Run OTel Collector as a sidecar or distinct service. App sends traces/metrics to Collector. Collector exports to Backend (Jaeger/Prometheus).

---

## üß† Expert-Level Concepts (Questions 301-310)

**Q301: What is the role of Linux namespaces in Docker containers?**
They provide the core isolation. Each namespace (PID, Net, Mount) wraps a global system resource to make it appear like the container has its own isolated instance of that resource.

**Q302: How do control groups (cgroups) work in Docker?**
They limit, account for, and isolate the resource usage (CPU, memory, disk I/O, network) of the collection of processes (the container).

**Q303: Explain PID, network, and mount namespaces in containerization.**
PID: Process isolation (container sees PID 1). Network: Network stack isolation (own IP/ports). Mount: Filesystem isolation (own root /).

**Q304: How does Docker handle IPC between containers?**
By default, they are isolated. They can share IPC namespace (`--ipc=container:id` or `--ipc=host`) to allow shared memory segments or semaphores.

**Q305: Can Docker containers run GUI apps? How?**
Yes. You must map the X11 socket (`/tmp/.X11-unix`) from host to container and set the `DISPLAY` environment variable.

**Q306: What is the lifecycle of a Docker image from source to deployment?**
Code -> Dockerfile -> `docker build` (Image) -> `docker push` (Registry) -> `docker pull` (Server) -> `docker run` (Container).

**Q307: How does Docker enforce isolation between containers on the same host?**
Kernel features (Namespaces + Cgroups). Docker asks the kernel to create these isolated environments when spawning the process.

**Q308: Can a container change its own cgroup settings?**
Usually no, unless running privileged. The cgroup filesystem is mounted read-only or not exposed at all inside standard containers.

**Q309: What happens when a Docker container forks too many processes?**
It can trigger a "fork bomb", exhausting host PIDs. Use `--pids-limit` to prevent this DoS attack.

**Q310: How do you inspect a container's internal Linux kernel view?**
You can't "inspect the kernel view" differently than the host because it *shares* the host kernel. `uname -a` inside gives host kernel info.

---

## üîê Advanced Security Scenarios (Questions 311-320)

**Q311: What are the risks of mounting `/var/run/docker.sock` inside a container?**
It gives the container full root access to the host. The container can spawn a privileged sibling container and mount the host root fs.

**Q312: How do you implement rootless containers in Docker?**
Install Docker in Rootless mode (uses user namespaces). Daemon runs as regular user. Containers map to unprivileged users on host.

**Q313: How does Docker use `seccomp` profiles to prevent syscalls?**
It passes a BPF filter to the kernel blocking specific system calls (like `reboot` or `clock_settime`) that a container shouldn't need.

**Q314: What is a container escape vulnerability? Give an example.**
A bug allowing a process to break out of the namespace isolation. Example: "Dirty COW" (kernel exploit) or runC CVE-2019-5736 (overwriting host runC binary).

**Q315: How do you prevent container breakout via `/proc` or `/sys`?**
Docker mounts these as "masked" or read-only paths by default. Never mount them as writable unless absolutely necessary.

**Q316: How do you implement container user namespace remapping?**
Configure /etc/docker/daemon.json `userns-remap`. Maps container uid 0 to host uid 100000+.

**Q317: How can containers be isolated by AppArmor profile enforcement?**
Load a profile on the host (`apparmor_parser`). Run container with `--security-opt apparmor=PROFILE`. It intercepts file access attempts.

**Q318: How do you ensure least-privilege containers in production?**
Run as non-root user. Drop all capabilities. Read-only filesystem. No host network. Limit resources.

**Q319: What is a privileged container and why is it dangerous?**
`--privileged` disables all security protections (AppArmor, Seccomp, Capabilities, Cgroups). It is essentially a process running on the host.

**Q320: How do you configure Docker to disallow specific kernel capabilities?**
`docker run --cap-drop=ALL --cap-add=NET_BIND_SERVICE ...`. Whitelist approach is best.

---

## üîÅ Edge-Case Dockerfile Practices (Questions 321-330)

**Q321: How do you use conditional logic in Dockerfiles?**
Dockerfiles don't support `if/else`. You must use shell logic inside `RUN` commands: `RUN if [ "$TARGET" = "prod" ]; then ...; fi`.

**Q322: What are `.dockerignore` best practices?**
Ignore everything (`*`) and whitelist (`!src`, `!Dockerfile`). Or manually ignore `.git`, build artifacts, secrets, and large test data.

**Q323: How do you prevent secrets from being baked into Docker images?**
Never use `ENV` or `COPY` for secrets. Use BuildKit secret mounts (`--mount=type=secret`) which don't persist in layers.

**Q324: How do you install a private SSH key in a secure Dockerfile build?**
Use `RUN --mount=type=ssh git clone ...`. Requires running build with `--ssh default`.

**Q325: What happens when you COPY a symlink in Docker?**
Docker copies the *target* file content, not the link itself, unless you use special tar handling (rare). It "dereferences" by default.

**Q326: Why is ordering of instructions critical in Dockerfiles?**
Caching. Changes invalidate cache for all subsequent steps. Put stable instructions (OS setup) first, volatile ones (Code copy) last.

**Q327: Can `CMD` and `ENTRYPOINT` be combined? How?**
Yes. `ENTRYPOINT` defines the executable (e.g., `python script.py`). `CMD` defines the default arguments (e.g., `--help`). User overrides just CMD.

**Q328: What are best practices for creating language runtime images?**
Start from official language base. Install only runtime deps. User multi-stage build to compile (e.g., Go/Java) and discard build tools.

**Q329: How do you write a Dockerfile for a polyglot (multi-language) app?**
Multi-stage builds. Stage 1: node image (build frontend). Stage 2: maven image (build backend). Stage 3: runtime image (copy both artifacts).

**Q330: How do you set up `.docker/config.json` for secure auth?**
Use "credHelpers" (credential helpers) which store passwords in system keychain (osxkeychain, secretservice) instead of base64 in the json file.

---

## üß© Container Networking - Niche (Questions 331-340)

**Q331: How do you assign a static IP to a container?**
Only on user-defined networks: `docker run --network mynet --ip 172.18.0.22 ...`.

**Q332: What is the default subnet range used by Docker bridge?**
Usually `172.17.0.0/16`. It increments for new networks (`172.18.x.x`).

**Q333: How do you create an isolated VLAN for container networks?**
Use the `macvlan` driver with sub-interfaces (e.g., `eth0.10`). `docker network create -d macvlan --opt parent=eth0.10 ...`.

**Q334: How do you resolve DNS inside Docker containers?**
Docker Engine acts as a DNS proxy at `127.0.0.11` inside the container, forwarding requests to host DNS or handling service discovery.

**Q335: What is IP masquerading in Docker NAT?**
When traffic leaves the bridge network to the outside world, Docker (via iptables) rewrites the source IP to the Host IP (SNAT).

**Q336: How do Docker containers talk to services running on host OS?**
Use `host.docker.internal` (Mac/Win). On Linux, use `--add-host host.docker.internal:host-gateway` or access host IP on the bridge (`172.17.0.1`).

**Q337: How does Docker manage egress and ingress traffic?**
Ingress: DNAT (Port Forwarding). Egress: SNAT (Masquerading). Controlled by `iptables` rules in NAT table.

**Q338: What are overlay networks in multi-host Docker setups?**
VXLAN-based networks that spam multiple Docker hosts (Swarm nodes). Containers see a flat L2 network across nodes.

**Q339: What is the difference between `docker network inspect` and `docker container inspect`?**
Network inspect shows the network object and *all* attached containers. Container inspect shows *one* container's IPs across networks.

**Q340: How does Docker interact with firewalls (iptables, ufw)?**
Docker inserts its own chains (`DOCKER-USER`, `DOCKER`) into iptables. UFW often blocks Docker routing; frequent conflict point requiring config tweaks.

---

## üì¶ Image & Artifact Management (Questions 341-350)

**Q341: How do you remove dangling and orphaned Docker images?**
`docker image prune`. Dangling: no tag. Orphaned: not used by any container (dangling is subset of orphan context typically).

**Q342: What‚Äôs the difference between image ID, digest, and tag?**
ID: Local hash. Digest: Registry content hash (immutable). Tag: Mutable pointer (human readable name).

**Q343: How do you inspect image history and layers?**
`docker history <image_name>`. Shows commands that created each layer and size.

**Q344: How can you squash layers in a Docker image?**
`docker build --squash` (experimental) or third-party tools. Merges all layers into one. Loses caching benefits but hides history.

**Q345: What are image labels and how are they used in CI/CD?**
Metadata (`LABEL maintainer=...`). Used by tools to identify, filter, or automate actions on images (e.g., `traefik` routing rules).

**Q346: What tools analyze image bloat?**
`dive` is the best interactive tool. `ncdu` inside container also works.

**Q347: How can you scan images for license violations?**
Tools like Snyk, FOSSA, or `trivy` can scan OS packages and npm/pip deps for licenses.

**Q348: What is a reproducible image build?**
A build that produces the exact same bitwise image hash every time. Requires specific timestamps and pinned versions.

**Q349: How do you ensure determinism in Docker image builds?**
Use `FROM image@sha256:...`. Pin versions in package managers (`apt-get install pkg=1.2.3`).

**Q350: Can you rename a Docker image and preserve history?**
Yes, `docker tag old:tag new:tag`. It's just an alias pointing to the same Image ID.

---

## üöÄ Production Practices (Questions 351-360)

**Q351: What is a zombie container and how do you handle it?**
A container with processes that haven't been reaped (PID table full). Use `--init` flag to add a tiny init process (Tini) to handle reaping.

**Q352: How do you gracefully shutdown containers?**
`docker stop` sends SIGTERM. App should catch it, finish work, saving state. If it hangs, `docker stop` sends SIGKILL after timeout (10s).

**Q353: What are exponential backoff and retries in container healthchecks?**
Healthcheck retries prevent flapping. Backoff isn't native to Docker Healthcheck (it's fixed interval), but useful in restart policies.

**Q354: How do you debug random container crashes in production?**
Check logs (`docker logs`). Check `dmesg` on host for OOM (Out of Memory) kills. Inspect exit code 137 (OOM) or 139 (Segfault).

**Q355: How do you limit disk usage per container?**
Use storage driver options (`--storage-opt size=10G`) with devicemapper/overlay2 (if supported/configured with project quotas).

**Q356: How do you limit concurrent connections in a containerized service?**
Usually handled inside the app (e.g., Nginx `worker_connections`) or by a Load Balancer/Proxy in front of it.

**Q357: What is container orphaning and how do you prevent it?**
Containers left running after the managing process (script/compose) dies. Use tools that track state or standard orchestrators.

**Q358: What‚Äôs the best way to run cron jobs in Docker?**
Run a dedicated container with a cron daemon (e.g., `supercronic`) that calls your script commands. Don't hack cron into your web container.

**Q359: How do you avoid data corruption in stateful containers?**
Graceful shutdown. Use robust filesystems. Ensure only one container writes to a volume at a time.

**Q360: What is a container lifecycle policy?**
Rules defining how long containers run, when they are updated, and when they are pruned (e.g., clean up containers older than 7 days).

---

## üõ†Ô∏è Docker DevOps Tooling (Questions 361-370)

**Q361: What is Docker layer caching and how do you visualize it?**
Reusing build steps. `docker build` output shows "Using cache" or "CACHED". No native visualizer, but build timelines help.

**Q362: How does `docker diff` help during debugging?**
Shows modifications to the container's filesystem since it started (A=Added, C=Changed, D=Deleted). Good to catch unexpected file writes.

**Q363: What is the use of `.docker/config.json`?**
Stores client configuration: auth credentials, proxy settings, alias, and CLI plugins enabled.

**Q364: What are the performance implications of mounting large volumes?**
Bind mounts are fast (native speed). Driver-based volumes (Network/Cloud) add latency. Large number of files can slow down startup if chowning.

**Q365: How do you run containers inside containers (dind)?**
Mount the host socket (`-v /var/run/docker.sock:/var/run/docker.sock`) [DooD] OR use privileged mode to run a daemon inside [DinD].

**Q366: What‚Äôs the difference between `COPY` and `ADD`?**
`COPY` is simple (local to image). `ADD` helps with tar extraction and remote URLs. Always prefer `COPY`.

**Q367: How do you use `docker cp` effectively?**
Copy config out to edit: `docker cp container:/app/config .` -> Edit -> `docker cp config container:/app/`. Debugging life-saver.

**Q368: How do you run an interactive session inside a production container?**
`docker exec -it <id> /bin/sh`. Requires shell to be present in image (distroless images blocks this).

**Q369: How do you tag a container build with a dynamic version?**
`docker build -t app:$(git rev-parse --short HEAD) .`.

**Q370: How do you chain build tools with Docker volumes?**
Run specialized tool containers (Maven, NPM) sequentially, mounting the same source code volume to process artifacts.

---

## üóÇÔ∏è Registries (Deep) (Questions 371-380)

**Q371: What is the schema of a Docker image manifest?**
JSON structure listing layers (blobs), config blob, digest, and media type (application/vnd.docker.distribution.manifest.v2+json).

**Q372: How does layer deduplication work across registries?**
Layers are addressed by content hash. If two images share a base layer (ubuntu), the registry stores that blob only once.

**Q373: How do you replicate images across multiple regions?**
Use Registry features (Geo-replication in ACR/ECR/Harbor) to sync repositories automatically to buckets in other regions.

**Q374: What is OCI-compliant image layout and why does it matter?**
A standard directory structure (`index.json`, `blobs/`). Allows tools like Podman, Buildah, Skopeo to work with images without Docker.

**Q375: How do you sign Docker images and verify integrity?**
Docker Content Trust (Notary). Sign the metadata when pushing. Clients verify signature against public key when pulling.

**Q376: What are cosign and Notary v2?**
Newer signing standards (Sigstore). Cosign signs images as blobs in the registry, making signature management easier than Notary v1.

**Q377: How do you mirror DockerHub to a local registry?**
Run a registry in proxy mode. Configure daemon with `registry-mirrors`. Local registry caches pulled images.

**Q378: How do you serve a Docker registry over S3?**
Configure the specific registry software (Docker Distribution) to use S3 storage driver in its config.yaml.

**Q379: How do you purge unused images from a private registry?**
Run the registry's Garbage Collection command. It deletes layers not referenced by any manifest. Note: often requires registry downtime or read-only mode.

**Q380: What‚Äôs the difference between Docker Hub and GHCR?**
Docker Hub: The default global registry. GHCR: GitHub Container Registry, tightly integrated with GitHub Actions and Packages.

---

## üåÄ Container Lifecycle & Management (Questions 381-390)

**Q381: What happens to volume data when a container is force removed?**
Data in named volumes persists. Data in bind mounts persists. Data in container main FS is lost.

**Q382: What‚Äôs the difference between restart policies: always, unless-stopped, and on-failure?**
`always`: Restarts even if manually stopped (on daemon restart). `unless-stopped`: Doesn't restart if manually stopped. `on-failure`: Only restarts on non-zero exit code.

**Q383: How does Docker handle `OOMKilled` containers?**
The kernel kills the process. Docker sees the exit. Restart policy kicks in if configured.

**Q384: How do you restore a container from a committed image?**
`docker run` the committed image ID. Note: You lose runtime state (RAM, open files) and volume data unless re-mounted.

**Q385: How do you batch restart services with downtime awareness?**
Use `docker service update --force` (Swarm) or `kubectl rollout restart` (K8s). They handle rolling restarts properly.

**Q386: What are the limitations of using Docker for system-level daemons?**
Systemd inside containers is tricky (needs privileged, cgroup mounting). Containers are designed for single-app, not full OS init.

**Q387: What‚Äôs the difference between foreground and background containers?**
Foreground: Attaches stdout to terminal. Background (`-d`): Runs detached.

**Q388: How do you enforce container exit traps and signals?**
Use `exec "$@"` in entrypoint scripts to ensure the app process gets PID 1 and receives SIGTERM.

**Q389: How do you manage container dependencies manually?**
Scripts that loop checking `docker inspect -f {{.State.Health.Status}}` before starting the next container.

**Q390: How do you create auto-healing containers without Kubernetes?**
Use `--restart` policy or tools like `autoheal` container that monitors health status and restarts unhealthy containers.

---

## üß™ Experimental & Future Tech (Questions 391-400)

**Q391: What is `docker init` (experimental)?**
CLI command that analyzes your project and auto-generates Dockerfile, Compose file, and .dockerignore.

**Q392: How do you use Docker extensions with Docker Desktop?**
Install from Dashboard. They are WASM/JS plugins that add UI features (e.g., Disk usage, Log explorer) to Desktop.

**Q393: What is Wasm+Docker and where is it headed?**
Running WebAssembly modules via Docker (using WasmEdge/Spin runtimes). Lighter and faster than containers. Ideally managed side-by-side with containers.

**Q394: Can Docker support GPU runtime isolation natively?**
Yes, with `--gpus all` (uses NVIDIA Container Toolkit). Maps GPU device to container.

**Q395: What‚Äôs Docker's future in serverless computing?**
ContainerD/Firecracker microVMs are the backend of AWS Lambda/Fargate. Docker is the dev interface, but runtime is shifting.

**Q396: How are containers being extended for microVM use cases (Firecracker)?**
Using OCI runtimes like Kata Containers. You use Docker CLI, but the process is wrapped in a lightweight VM for stronger isolation.

**Q397: How does Docker interact with eBPF monitoring tools?**
Tools (Cilium, Falco) attach to kernel hooks. They see all container traffic/calls because containers share the kernel. No specific Docker config needed.

**Q398: What are the experimental features in Docker CE?**
Features like Checkpoint/Restore, Wasm support, various BuildKit optimizations. Enable in `daemon.json` "experimental": true.

**Q399: What is BuildKit remote cache and how is it used?**
Use `--cache-to type=registry` and `--cache-from`. Pushes build cache layers to the registry so other team members pull cache instead of rebuilding.

**Q400: What is the roadmap of Docker in the AI & ML ecosystem?**
Better GPU support, AI-specific stacks (GenAI stack), and optimizing large image handling (for huge model weights).
